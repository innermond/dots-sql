#!/bin/bash
common=""
# files with sql extension from tables diectory
for f in tables/*.sql;do
  # repeat basename and a comma pattern
  common="$common${f##*/},"
done
# remove last char, which is a comma
common="${common%?}"
eval "cat init.sql tables/{$common} > printoo.sql"
eval "cat populate/{$common} > populate.sql"
cat printoo.sql populate.sql > pp.sql
sqlfile=pp.sql
if [ "$1" == create ]; then 
	sqlfile=printoo.sql
	echo "using $sqlfile"
	mysql -uroot -p < $sqlfile
	exit 0
fi
if [ "$1" == fill ]; then 
	sqlfile=populate.sql
	echo "using $sqlfile"
	mysql -uroot -p -D printoo < $sqlfile
	exit 0
fi
echo "using $sqlfile"
mysql -uroot -p < $sqlfile
